{% extends "base.html" %}
{% block title %}Subjects{% endblock %}
{% block content %}

<div class="card page-title">
    <div style="
        display:flex; align-items:flex-start; gap:18px;
        background:#fff; border:1px solid #e5e7eb; border-left:5px solid #7c3aed;
        padding:22px 24px; border-radius:14px;
        box-shadow:0 4px 10px rgba(0,0,0,0.05); margin-bottom:22px;
    ">
        <div style="
            background:#7c3aed; width:48px; height:48px; border-radius:12px;
            display:flex; align-items:center; justify-content:center;
            box-shadow:0 3px 8px rgba(124,58,237,0.35);
        ">
            <svg xmlns='http://www.w3.org/2000/svg' width='26' height='26' stroke='#fff' fill='none' stroke-width='2'>
                <path d="M4 19.5A2.5 2.5 0 0 0 6.5 22h11A2.5 2.5 0 0 0 20 19.5V6H4v13.5Z" />
                <path d="M4 6V4h16v2" />
            </svg>
        </div>

        <div>
            <h1 style="margin:0;font-size:24px;font-weight:700;color:#111827;">
                Subjects Management
            </h1>
            <p style="margin:8px 0 0;font-size:15px;color:#4b5563;line-height:1.6;">
                Manage academic subjects offered in the school. Add, update, and organize subjects
                for class timetable planning.
            </p>
        </div>
    </div>

    <div class="controls">
        <a class="btn btn-success" href="{{ url_for('main.add_subject') }}">Add Subject</a>
    </div>
</div>

<div class="card table-wrap">

    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:14px">
        <input class="search-input" placeholder="Search subjects..." />

        <div>
            <label class="small-muted">Per page</label>
            <select class="select-page">
                <option>5</option>
                <option selected>10</option>
                <option>25</option>
            </select>
        </div>
    </div>

    <table class="table data-table">
        <thead style="background-color: #2563eb;">
            <tr style="background:#2563eb;">
                <th>ID</th>
                <th>Subject Code</th>
                <th>Subject Name</th>
                <th>Type</th>
                <th>Update</th>
                <th>Delete</th>
            </tr>
        </thead>

        <tbody>
            {% for s in subjects %}
            <tr>
                <td>{{ s.id }}</td>
                <td>{{ s.code }}</td>
                <td>{{ s.name }}</td>
                <td style="text-transform:capitalize">{{ s.subject_type }}</td>

                <td>
                    <a class="btn btn-primary" href="{{ url_for('main.edit_subject', subject_id=s.id) }}">
                        Edit
                    </a>
                </td>

                <td>
                    <form id="delete-subject-{{ s.id }}" action="{{ url_for('main.delete_subject', subject_id=s.id) }}"
                        method="post" style="display:inline">

                        <button type="button" class="btn btn-danger"
                            onclick="confirmDelete('delete-subject-{{ s.id }}','Delete this subject?')">
                            Delete
                        </button>

                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="pager"></div>

    <style>
        .search-input {
            width: 100%;
            max-width: 380px;
            padding: 14px 18px;
            font-size: 15px;
            color: #1f2937;
            background: linear-gradient(to bottom right, #fafafa, #f3f4f6);

            border: 1px solid #d1d5db;
            border-radius: 12px;

            outline: none;
            transition: all 0.25s ease;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.04);
        }

        .search-input:focus {
            background: #fff;
            border-color: #2563eb;
            box-shadow:
                0 0 0 4px rgba(37, 99, 235, 0.18),
                inset 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .search-input:hover:not(:focus) {
            background: #fff;
            border-color: #93c5fd;
        }

        .search-input::placeholder {
            color: #9ca3af;
            font-style: italic;
            opacity: 0.8;
        }

        .search-input:focus::placeholder {
            opacity: 0.4;
            transition: opacity .2s ease;
        }
    </style>

</div>

{% endblock %}